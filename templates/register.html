{% extends 'base.html' %}
{% load static %}

{% block title %}
    Регистрация
{% endblock %}

{% block content %}
    <div class="row" style="margin-top: 10vh;">
        <div class="col-md-3"></div>
        <div class="col-md-6">
            <form method="POST" action="/register">{% csrf_token %}
                <div class="form-group row">
                    <label for="username" class="col-sm-5 col-form-label" style="text-align: right;">Логин</label>
                    <div class="col-sm-7">
                        <input name="username" type="text" class="form-control" id="username" placeholder="Логин" required>
                    </div>
                    <p>{{ form.errors.username }}</p>
                </div>
                <div class="form-group row">
                    <label for="email" class="col-sm-5 col-form-label" style="text-align: right;">E-mail</label>
                    <div class="col-sm-7">
                        <input name="email" type="email" class="form-control" id="email" placeholder="mail@example.com" required>
                    </div>
                    <p>{{ form.errors.email }}</p>
                </div>
                <div class="form-group row">
                    <label for="passport" class="col-sm-5 col-form-label" style="text-align: right;">Номер и серия паспорта</label>
                    <div class="col-sm-7">
                        <input name="passport" type="text" class="form-control" id="passport" placeholder="1234 567890" required maxlength="10">
                    </div>
                    <p>{{ form.errors.passport }}</p>
                </div>
                <div class="form-group row">
                    <label for="last_name" class="col-sm-5 col-form-label" style="text-align: right;">Фамилия</label>
                    <div class="col-sm-7">
                        <input name="last_name" type="text" class="form-control" id="last_name" placeholder="Иванов" required>
                    </div>
                    <p>{{ form.errors.last_name }}</p>
                </div>
                <div class="form-group row">
                    <label for="first_name" class="col-sm-5 col-form-label" style="text-align: right;">Имя</label>
                    <div class="col-sm-7">
                        <input name="first_name" type="text" class="form-control" id="first_name" placeholder="Иван" required>
                    </div>
                    <p>{{ form.errors.first_name }}</p>
                </div>
                <div class="form-group row">
                    <label for="middle_name" class="col-sm-5 col-form-label" style="text-align: right;">Отчество</label>
                    <div class="col-sm-7">
                        <input name="middle_name" type="text" class="form-control" id="middle_name" placeholder="Иванович" required>
                    </div>
                    <p>{{ form.errors.middle_name }}</p>
                </div>
                <div class="form-group row">
                    <label for="date_of_birth" class="col-sm-5 col-form-label" style="text-align: right;">Дата рождения</label>
                    <div class="col-sm-7">
                        <input name="date_of_birth" type="date" class="form-control" id="date_of_birth" required>
                    </div>
                    <p>{{ form.errors.date_of_birth }}</p>
                </div>
                <div class="form-group row">
                    <label for="phone" class="col-sm-5 col-form-label" style="text-align: right;">Номер телефона</label>
                    <div class="col-sm-7">
                        <input name="phone" type="text" class="form-control" id="phone" required maxlength="10">
                    </div>
                    <p>{{ form.errors.phone }}</p>
                </div>
                <div class="form-group row">
                    <label for="password" class="col-sm-5 col-form-label" style="text-align: right;">Пароль</label>
                    <div class="col-sm-7">
                        <input name="password" type="password" class="form-control" id="password" placeholder="Пароль" required>
                    </div>
                    <p>{{ form.errors.password1 }}</p>
                </div>
                <div class="form-group row">
                    <label for="password2" class="col-sm-5 col-form-label" style="text-align: right;">Повторите Пароль</label>
                    <div class="col-sm-7">
                        <input name="password2" type="password" class="form-control" id="password2" placeholder="Пароль" required>
                    </div>
                    <p>{{ form.errors.password2 }}</p>
                </div>
                <span id="messagePassword"></span>
                <button type="submit" class="btn btn-primary mb-2" style="width: 100%;">Зарегистрироваться</button>
            </form>
        </div>
        <div class="col-md-3"></div>
    </div>
{% endblock %}

{% block js %}
    <script>
        $('#password, #confirm_password').on('keyup', function () {
            if($('#password1').val() == $('#password2').val()) {
                $('#messagePassword').html('Пароли совпадают');
            }
            else {
                $('#messagePassword').html('Пароли несовпадают');
            }
        });
        $('#phone').on('keyup', function () {
            $('#phone').val($('#phone').val().replace(/[0-9]/));
        });
        $('#passport').on('keyup', function () {
            $('#phone').val($('#phone').val().replace(/[0-9]/));
        });
    </script>
{% endblock %}
